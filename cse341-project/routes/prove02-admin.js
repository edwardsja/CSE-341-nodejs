const path = require('path');

const express = require('express');

const router = express.Router();

const rootDir = require('../util/path');

const products = [{title: 'New Product', price: 19.99, description: 'This is a new book', image: 'data:image/jpeg;base64,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'},
{title: 'Old Product', price: 9.99, description: 'This is an old book', image: 'https://www.stockvault.net/data/2016/10/26/214477/preview16.jpg'}];

router.get('/add-product', (req, res, next) => {
    res.render('prove02-add-product', {
        pageTitle: 'Add Product',
        path: '/week2/admin/add-product',
    });
});

router.post('/add-product', (req, res, next) => {
    products.push({ title: req.body.title, price: req.body.price, description: req.body.description, image: req.body.image })
    res.redirect('/week2');
});

router.post('/delete-product', (req, res, next) => {
    let index = req.body.arrayNumber;
    products.splice(index);
    res.redirect('/week2');
});

exports.routes = router;
exports.products = products;

